import{s as a}from"./supabase.Bouij7RW.js";import"./_commonjsHelpers.gnU0ypJ3.js";import"./preload-helper.BlTxHScW.js";const r=document.getElementById("mobile-menu-button"),u=document.getElementById("mobile-menu");r?.addEventListener("click",()=>{u?.classList.toggle("hidden")});let t=0;const s=document.querySelector("header");window.addEventListener("scroll",()=>{const e=window.pageYOffset;if(e<=0){s?.classList.remove("scroll-up");return}e>t&&!s?.classList.contains("scroll-down")?(s?.classList.remove("scroll-up"),s?.classList.add("scroll-down")):e<t&&s?.classList.contains("scroll-down")&&(s?.classList.remove("scroll-down"),s?.classList.add("scroll-up")),t=e});const o=document.getElementById("auth-buttons"),n=document.getElementById("user-menu-container"),d=document.getElementById("mobile-auth-buttons"),l=document.getElementById("mobile-user-menu"),i=document.getElementById("discord-button-container"),c=e=>{console.log("Updating auth UI with session:",e),e?.user?(console.log("User is logged in, showing user menu and discord button"),o?.classList.add("hidden"),n?.classList.remove("hidden"),d?.classList.add("hidden"),l?.classList.remove("hidden"),i?.classList.remove("hidden")):(console.log("User is not logged in, showing auth buttons"),o?.classList.remove("hidden"),n?.classList.add("hidden"),d?.classList.remove("hidden"),l?.classList.add("hidden"),i?.classList.add("hidden"))},m=async()=>{try{const{data:{session:e}}=await a.auth.getSession();console.log("Initial session in Navbar:",e),c(e)}catch(e){console.error("Error checking auth state:",e),c(null)}};document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, checking auth state..."),m()});
